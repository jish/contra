"use strict";

(function (exports) {

  var Contra = exports.Contra = {};

  var a = 65,
      b = 66;
  var left = 37,
      up = 38,
      right = 39,
      down = 40;

  var handlers = [];
  var pattern = [up, up, down, down, left, right, left, right, b, a];
  var position = 0;

  var check = function check(evt) {
    if (pattern[position] === evt.keyCode) {
      position++;
    } else {
      position = 0;
    }

    if (position === pattern.length) {
      win();
      position = 0;
    }
  };

  var win = function win() {
    var body = document.getElementsByTagName("body")[0];
    body.className = "" + body.className + " contra";

    for (var i = 0, l = handlers.length; i < l; i++) {
      handlers[i].call();
    }
  };

  var initialize = function initialize() {
    if (document.addEventListener) {
      document.addEventListener("keyup", check);
    } else if (document.attachEvent) {
      document.attachEvent("onkeypress", check);
    }
  };

  Contra.addHandler = function (handler) {
    handlers.push(handler);
  };

  initialize();
})(window);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRyYS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLEFBQUMsQ0FBQSxVQUFTLE9BQU8sRUFBRTs7QUFFakIsTUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7O0FBRWpDLE1BQUksQ0FBQyxHQUFHLEVBQUU7TUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ25CLE1BQUksSUFBSSxHQUFHLEVBQUU7TUFBRSxFQUFFLEdBQUcsRUFBRTtNQUFFLEtBQUssR0FBRyxFQUFFO01BQUUsSUFBSSxHQUFHLEVBQUUsQ0FBQzs7QUFFOUMsTUFBSSxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBQ2xCLE1BQUksT0FBTyxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDbkUsTUFBSSxRQUFRLEdBQUcsQ0FBQyxDQUFDOztBQUVqQixNQUFJLEtBQUssR0FBRyxlQUFTLEdBQUcsRUFBRTtBQUN4QixRQUFJLE9BQU8sQ0FBQyxRQUFRLENBQUMsS0FBSyxHQUFHLENBQUMsT0FBTyxFQUFFO0FBQ3JDLGNBQVEsRUFBRSxDQUFDO0tBQ1osTUFBTTtBQUNMLGNBQVEsR0FBRyxDQUFDLENBQUM7S0FDZDs7QUFFRCxRQUFJLFFBQVEsS0FBSyxPQUFPLENBQUMsTUFBTSxFQUFFO0FBQy9CLFNBQUcsRUFBRSxDQUFDO0FBQ04sY0FBUSxHQUFHLENBQUMsQ0FBQztLQUNkO0dBQ0YsQ0FBQzs7QUFFRixNQUFJLEdBQUcsR0FBRyxlQUFXO0FBQ25CLFFBQUksSUFBSSxHQUFHLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNwRCxRQUFJLENBQUMsU0FBUyxRQUFNLElBQUksQ0FBQyxTQUFTLFlBQVMsQ0FBQzs7QUFFNUMsU0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUM1QyxjQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7S0FDcEI7R0FDRixDQUFDOztBQUVGLE1BQUksVUFBVSxHQUFHLHNCQUFXO0FBQzFCLFFBQUksUUFBUSxDQUFDLGdCQUFnQixFQUFFO0FBQzdCLGNBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDM0MsTUFBTSxJQUFJLFFBQVEsQ0FBQyxXQUFXLEVBQUU7QUFDL0IsY0FBUSxDQUFDLFdBQVcsQ0FBQyxZQUFZLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDM0M7R0FDRixDQUFDOztBQUVGLFFBQU0sQ0FBQyxVQUFVLEdBQUcsVUFBQyxPQUFPLEVBQUs7QUFDL0IsWUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztHQUN4QixDQUFDOztBQUVGLFlBQVUsRUFBRSxDQUFDO0NBRWQsQ0FBQSxDQUFDLE1BQU0sQ0FBQyxDQUFFIiwiZmlsZSI6ImNvbnRyYS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihleHBvcnRzKSB7XG5cbiAgdmFyIENvbnRyYSA9IGV4cG9ydHMuQ29udHJhID0ge307XG5cbiAgdmFyIGEgPSA2NSwgYiA9IDY2O1xuICB2YXIgbGVmdCA9IDM3LCB1cCA9IDM4LCByaWdodCA9IDM5LCBkb3duID0gNDA7XG5cbiAgdmFyIGhhbmRsZXJzID0gW107XG4gIHZhciBwYXR0ZXJuID0gW3VwLCB1cCwgZG93biwgZG93biwgbGVmdCwgcmlnaHQsIGxlZnQsIHJpZ2h0LCBiLCBhXTtcbiAgdmFyIHBvc2l0aW9uID0gMDtcblxuICB2YXIgY2hlY2sgPSBmdW5jdGlvbihldnQpIHtcbiAgICBpZiAocGF0dGVybltwb3NpdGlvbl0gPT09IGV2dC5rZXlDb2RlKSB7XG4gICAgICBwb3NpdGlvbisrO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb3NpdGlvbiA9IDA7XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uID09PSBwYXR0ZXJuLmxlbmd0aCkge1xuICAgICAgd2luKCk7XG4gICAgICBwb3NpdGlvbiA9IDA7XG4gICAgfVxuICB9O1xuXG4gIHZhciB3aW4gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF07XG4gICAgYm9keS5jbGFzc05hbWUgPSBgJHtib2R5LmNsYXNzTmFtZX0gY29udHJhYDtcblxuICAgIGZvcih2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGg7IGk8bDsgaSsrKSB7XG4gICAgICBoYW5kbGVyc1tpXS5jYWxsKCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBpbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgY2hlY2spO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuYXR0YWNoRXZlbnQpIHtcbiAgICAgIGRvY3VtZW50LmF0dGFjaEV2ZW50KCdvbmtleXByZXNzJywgY2hlY2spO1xuICAgIH1cbiAgfTtcblxuICBDb250cmEuYWRkSGFuZGxlciA9IChoYW5kbGVyKSA9PiB7XG4gICAgaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgfTtcblxuICBpbml0aWFsaXplKCk7XG5cbn0od2luZG93KSk7XG4iXX0=